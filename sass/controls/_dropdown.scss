// Select (DropDown)
//================================================== //

select.dropdown,
select.multiselect {
  font-size: 50px;
  left: -9999px;
  position: absolute;
}

.dropdown-wrapper {
  display: inline-block;
  margin-bottom: 20px;
  max-width: 100%;
  position: relative;

  .icon-error,
  .icon-confirm,
  .icon-alert,
  .icon-info,
  .icon-pending {
    position: absolute;
    right: 50px;
  }

  .badge {
    display: inline-block;
    position: absolute;
    right: 28px;
    top: 6px;
  }
}

input.dropdown,
input.multiselect {
  background-color: $input-bg-color;
  border-color: $input-border-color;
  color: $dropdown-color;
  cursor: pointer;
  padding: 9px 32px 8px 10px;
  -webkit-text-fill-color: $dropdown-color;
  @include css3(touch-callout, none);
  @include css3(user-select, none);
  text-overflow: ellipsis;
  @include transition(background-color .2s ease);
  vertical-align: middle;

  &[disabled] {
    background-color: $input-disabled-bg-color;
    border-color: $input-disabled-border-color;
    color: $input-disabled-color;
    cursor: default;
    -webkit-text-fill-color: $input-disabled-color;

    + .icon {
      background-color: $input-disabled-bg-color;
      cursor: default;
      fill: $input-disabled-border-color;
    }
  }

  &:active:not([disabled]):not(.is-readonly) {
    border-color: $trigger-active-color;

    + .icon {
      fill: $trigger-active-color;
    }
  }

  &:hover:not([disabled]):not(.is-readonly) {
    border-color: $trigger-hover-color;

    + .icon {
      fill: $trigger-hover-color;
    }
  }

  // Icon States
  + .icon {
    background-color: inherit;
    border-radius: 1px;
    cursor: pointer;
    display: inline-block;
    fill: $trigger-icon-fill-color;
    height: 32px;
    margin-left: -33px;
    pointer-events: none;
    position: absolute;
    right: 6px;
    top: 1px;
    width: 18px;
  }

  &.is-readonly {
    background-color: $input-readonly-bg-color;
    border-color: $input-readonly-border-color;
    color: $input-readonly-color;
    cursor: text;
    -webkit-text-fill-color: $input-readonly-color;
  }

  &:focus {
    border-color: $input-focus-border-color !important;
  }
}

.inline {

  + .dropdown-wrapper {
    input.dropdown,
    input.multiselect {
      + .icon {
        top: 22px;
      }
    }
  }

}


// The List
.dropdown-list {
  background-color: $popupmenu-bg-color;
  border: 1px solid $dropdown-menu-border-color;
  border-radius: 3px;
  max-height: 300px;
  min-height: 30px;
  -webkit-overflow-scrolling: touch;
  position: absolute;
  transition: height .3s ease 0s;
  white-space: nowrap;
  width: auto;
  z-index: 4501;

  &:active {
    outline: 0;
  }

  ul {
    color: $popupmenu-color;
    @include font-size(14);
    height: auto;
    line-height: 32px;
    max-height: 260px;
    min-height: inherit;
    overflow: auto;
    position: relative;
    text-indent: 10px;
  }

  li {
    min-height: 32px;
    position: relative;

    i {
      color: $dropdown-filter-color;
      font-style: normal;
      text-decoration: none;
    }

    &:hover,
    &.hover {
      background-color: $popupmenu-hover-color;
      cursor: pointer;
      outline: none;
    }

    &.is-disabled {
      > a {
        color: #b6b6b6;
      }

      &:hover,
      &.hover {
        background-color: transparent;
        cursor: default;
      }
    }

    &:focus {
      background-color: $popupmenu-hover-color;
      cursor: pointer;
      outline: none;
    }

    &.is-focused {
      background-color: $popupmenu-hover-color;

      &::before {
        @include checkbox-checked-before-style;
        border-color: $inverse-color;
      }
    }

    // Badge Support
    .badge {
      display: inline-block;
      float: right;
      margin-left: -40px;
      margin-top: 4px;
      position: relative;
      right: 8px;
      text-indent: 0;
    }

    &.is-focused .badge.info {
      background-color: $inverse-color;
      color: $primary-color;
    }
  }

  a {
    color: $popupmenu-color;
    text-decoration: none;
    @include css3(touch-callout, none);
    @include css3(user-select, none);
  }

  // Added to the dropdown list when doing a search
  &.search-mode {

    li {
      i {
        color: $font-color-extrahighcontrast;
        font-weight: bold;
        letter-spacing: -.2;
      }

      &.is-disabled {
        a {
          color: #b6b6b6;
        }
      }
    }

  }

  &.multiple {

    ul {
      text-indent: 42px;
    }

    li::before {
      top: 6px;
      @include checkbox-unchecked-before-style;
    }

    li.is-disabled::before {
      @include checkbox-unchecked-disabled-before-style;
    }

    li.is-focused::before {
      @include checkbox-unchecked-before-style;
    }

    li.is-focused,
    li.is-selected.is-focused,
    li:hover:not(.group-label) {
      //background-color: $popupmenu-hover-color;

      > a {
        color: $font-color-highcontrast;
      }
    }

    li.is-selected::before {
      @include checkbox-checked-before-style;
    }

    li.is-selected::after {
      @include checkbox-checked-after-style;
      left: 21px;
      margin-top: 8px;
    }

    li.is-disabled.is-selected::before {
      @include checkbox-checked-disabled-before-style;
    }

    li.is-disabled.is-selected::after {
      @include checkbox-checked-disabled-after-style;
      left: 21px;
      margin-top: 8px;
    }

    li.group-label,
    li.separator {
      &::before,
      &::after {
        content: none;
      }
    }

    a {
      color: $font-color-highcontrast;
    }

    &.search-mode {
      a {
        i {
          color: $font-color-highcontrast;
        }
      }
    }
  }

  .group-label {
    @include css3(user-select, none);
    @include font-size(11);
    color: $dropdown-group-label-color;
    padding: 10px 0 2px;
    text-indent: 10px;
    text-transform: uppercase;

    &:not(:first-child) {
      border-top: 1px solid $dropdown-menu-separator-color;
      margin-top: 10px;
    }

    &:hover {
      background-color: transparent;
      cursor: default;
    }
  }

  > .trigger {
    cursor: pointer;
    height: 32px;
    margin-left: -26px;
    position: absolute;
    z-index: 1;
    width: 26px;

    .icon {
      background-color: rgba($white, 0);
      fill: $trigger-icon-fill-color;
      height: 32px;
      @include css3(transform, rotate(180deg));
      width: 18px;

      &.search {
        height: 18px;
        margin-top: 7px;
        @include css3(transform, rotate(0deg));
        width: 16px;
      }
    }
  }


}

.dropdown-search {
  background-color: $body-bg-color;
  border: 0;
  border-bottom: 1px solid $dropdown-menu-separator-color;
  border-radius: 0;
  color: $dropdown-color;
  padding: 9px 32px 8px 10px;
  text-overflow: ellipsis;
  width: 100%;

  &::-ms-clear {
    display: none;
  }

  &:focus {
    border: 0;
    border-bottom: 1px solid $dropdown-menu-separator-color;
    box-shadow: none;
    outline: none;
  }
}

.is-ontop .dropdown-search {
  border-bottom: 0;
  border-top: 1px solid $dropdown-menu-separator-color;
}

.dropdown.error {
  border-color: $error-color;

  &::-webkit-input-placeholder {
    color: $error-color;
  }
}

.dropdown.error:focus {
  border-color: $error-color !important;
  box-shadow: 0 0 5px rgba(237, 28, 36, .2);
  color: $input-color !important;
}

//Shorter Field Size
.field-short {

  input.dropdown {
    @include font-size(12);
    margin-bottom: 0;
    padding: 5px 18px 5px 5px;
  }

  input.dropdown + .icon,
  input.multiselect + .icon {
    height: 30px;
    right: 4px;
    top: -2px;
    width: 16px;
  }

  .dropdown-wrapper {
    margin-bottom: 10px;
  }

}

// Different Width Dropdowns
.dropdown-lg,
.field-short .dropdown-lg {
  width: 403px;
}

.dropdown-md,
.field-short .dropdown-md {
  width: 303px;
}

.dropdown-sm,
.field-short .dropdown-sm {
  width: 150px;
}

.dropdown-xs,
.field-short .dropdown-xs {
  width: 75px;
}

// Shorter Drop Down Lists
.dropdown-list.dropdown-short {

  input {
    @include font-size(12);
    padding: 5px 32px 5px 5px;
  }

  ul {
    @include font-size(12);
    line-height: 25px;
    text-indent: 5px;
  }

  > .icon,
  > .icon.search {
    height: 24px;
    margin-left: -21px;
    margin-top: 0;
    width: 16px;
  }

  // Multiple
  &.multiple {
    li {
      &::before {
        top: 4px;
        margin-left: 0;
      }

      &::after {
        left: 11px;
        margin-top: 6px;
      }

      &.is-focused {
        &::before {
          margin-left: 0;
        }

        &::after {
          left: 11px;
          margin-top: 6px;
        }
      }

      a {
        display: inline-block;
        padding-left: 18px;
        padding-top: 1px;
      }
    }
  }

}


//RTL Styles
html[dir='rtl'] {

  input.dropdown,
  input.multiselect {
    padding: 9px 10px 8px 32px;

    // Icon States
    + .icon {
      margin-left: inherit;
      margin-right: -33px;
      left: 6px;
      right: auto;
    }
  }

  // The List
  .dropdown-list {

    &.multiple {

      li::before {
        margin-left: inherit;
        margin-right: -27px;
      }

      li.is-selected::after {
        left: inherit;
        right: 21px;
      }

      li.is-disabled.is-selected::after {
        left: inherit;
        right: 21px;
      }
    }

    > .icon {
      margin-left: inherit;
      margin-right: -26px;

      &.search {
        margin-left: inherit;
        margin-right: -26px;
      }
    }
  }

  .dropdown-search {
    padding: 9px 10px 8px 32px;
  }

  .dropdown-wrapper {
    .icon-error,
    .icon-confirm,
    .icon-alert,
    .icon-info,
    .icon-pending {
      left: 50px;
      right: auto;
    }
  }

}
