<h1 id="popupmenu-component-learn-more">Popupmenu Component <a href="#">Learn More</a></h1>
<h2 id="configuration-options">Configuration Options</h2>
<ol>
<li>Popupmenu as a Menu Button <a href="../components/popupmenu/example-menubutton">View Example</a><br /></li>
<li>Popupmenu with multiselect <a href="../components/popupmenu/example-selectable-multiple">View Example</a><br /></li>
<li>Popupmenu with single select <a href="../components/popupmenu/example-selectable">View Example</a><br /></li>
<li>Popupmenu with disabled submenus <a href="../components/popupmenu/example-disabled-submenus">View Example</a><br /></li>
<li>Popupmenu with icons <a href="../components/popupmenu/example-icons">View Example</a></li>
</ol>
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->


<h2 id="api-details">API Details</h2>
<h3 id="settings">Settings</h3>
<ul>
<li><code>menu</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></strong>  -  Menu's ID Selector, or a jQuery object representing a menu<br /></li>
<li><code>trigger</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></strong>  -  Action on which to trigger a menu can be: click, rightClick, immediate ect<br /></li>
<li><code>autoFocus</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></strong>  -  If false the focus will not focus the first list element. (At the cost of accessibility)<br /></li>
<li><code>attachToBody</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></strong>  -  If true the menu will be moved out to the body. To be used in certin overflow situations.<br /></li>
<li><code>ariaListbox</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></strong>  -  Switches aria to use listbox construct instead of menu construct (internal)<br /></li>
<li><code>eventObj</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></strong>  -  Can pass in the event object so you can do a right click with immediate<br /></li>
<li><code>returnFocus</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></strong>  -  If set to false, focus will not be returned to the calling element. It usually should be for accessibility purposes.<br /></li>
<li><code>placementOpts</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></strong>  -  Gets passed to this control's Place behavior<br /></li>
<li><code>offset</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></strong>  -  Can tweak the menu position in the x and y direction. Takes an object of form: <code>{x: 0, y: 0}</code></li>
</ul>
<h3 id="functions">Functions</h3>
<h4 id="close">close</h4>
<p>Close the open menu</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>isCancelled</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></strong>  -  Internally set option used if the operation is a cancel. Wont matter for manual api call.<br /></li>
<li><code>noFocus</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></strong>  -  Do not return focus to the calling element (fx a button)</li>
</ul>
<h4 id="destroy">destroy</h4>
<p>Teardown markup and detach all events.</p>
<h2 id="code-example">Code Example</h2>
<p>Popupmenu can be invoked in several ways. As a right click action menu fx on an input field or grid or list row (also known as a <a href="../components/contextmenu">Context Menu</a>). Via a click action menu for example on a menu or actions button. Or manually <code>trigger='immediate'</code> as needed via the popupmenu api.</p>
<p>The structure of the menu is a ul element with li elements containing links for each of the rows in the menu. An other ul element can be added to create a submenu. But try to only one level of submenus for accessibility and usability reasons.</p>
<p>The class popupmenu should be added to the ul elements at the top and submenu level. You can create rows as space separators for grouping with the tag with the class <code>separator</code>. You can create rows as groups with titles as well with the class group.</p>
<p>Here is an example of a menu button using a popupmenu. This is also described on the menu button page as the components are linked.</p>
<pre class="sourceCode html"><code class="sourceCode html">
<span class="kw">&lt;button</span><span class="ot"> class=</span><span class="st">&quot;btn-menu&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;span&gt;</span>Normal Menu<span class="kw">&lt;/span&gt;</span>
  <span class="kw">&lt;svg</span><span class="ot"> role=</span><span class="st">&quot;presentation&quot;</span><span class="ot"> aria-hidden=</span><span class="st">&quot;true&quot;</span><span class="ot"> focusable=</span><span class="st">&quot;false&quot;</span><span class="ot"> class=</span><span class="st">&quot;icon icon-dropdown&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;use</span><span class="ot"> xlink:href=</span><span class="st">&quot;#icon-dropdown&quot;</span><span class="kw">&gt;&lt;/use&gt;</span>
  <span class="kw">&lt;/svg&gt;</span>
<span class="kw">&lt;/button&gt;</span>
<span class="kw">&lt;ul</span><span class="ot"> class=</span><span class="st">&quot;popupmenu&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;li&gt;&lt;a</span><span class="ot"> href=</span><span class="st">&quot;#&quot;</span><span class="kw">&gt;</span>Menu Option #1<span class="kw">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="kw">&lt;li&gt;&lt;a</span><span class="ot"> href=</span><span class="st">&quot;#&quot;</span><span class="kw">&gt;</span>Menu Option #2<span class="kw">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="kw">&lt;li&gt;&lt;a</span><span class="ot"> href=</span><span class="st">&quot;#&quot;</span><span class="kw">&gt;</span>Menu Option #3<span class="kw">&lt;/a&gt;&lt;/li&gt;</span>
<span class="kw">&lt;/ul&gt;</span>
</code></pre>
<h2 id="accessibility">Accessibility</h2>
<ul>
<li>Make sure to always focus the triggering element when closing<br /></li>
<li>Add aria-hidden when menu is in closed/invisible state<br /></li>
<li>Uses role = application for correct modality<br /></li>
<li>Elements with a popup get aria-haspopup and aria-owns = id<br /></li>
<li>li elements get role = presentation for groups and separators<br /></li>
<li>Checked items get aria-checked<br /></li>
<li>Set aria-expanded when open<br /></li>
<li>Can role = menu (usually role menu for popup menu, list box is for dropdown cases.<br /></li>
<li>Anchor elements get role = menuitem</li>
</ul>
<h2 id="keyboard-shortcuts">Keyboard Shortcuts</h2>
<ul>
<li><p><strong>Shift F10</strong></p>
<ul>
<li>Posts the Popup Menu Widget When it is used as a <a href="http://en.wikipedia.org/wiki/Context_menu">Contextual Menu</a><br /></li>
<li>Place input focus on the first available menuitem in the Popup Menu<br /></li>
<li><strong>Note:</strong> The Browser's Contextual Menu pops up if the element with input focus does not have a Popup Menu attached<br /></li>
</ul></li>
<li><p><strong>ESC</strong></p>
<ul>
<li>Causes no menu action and dismisses Popup Menu<br /></li>
<li>Input focus is returned to the element from which the Popup Menu was called<br /></li>
</ul></li>
<li><p><strong>Up/Down Arrow</strong></p>
<ul>
<li>Moves input focus vertically between each menuitem<br /></li>
<li>Input focus wraps from the last to the first menuitem on a Down key press and vice-versa when the Up key is pressed.<br /></li>
</ul></li>
<li><p><strong>Right/Left Arrow</strong></p>
<ul>
<li>Where applicable, causes a sub-menu to post or un-post<br /></li>
<li>Causes no action if there is no sub-menu<br /></li>
</ul></li>
<li><p><strong>Enter</strong></p>
<ul>
<li>Opens the menu if on an element with click linkage. If open, then enter will select the focused menu item.</li>
</ul></li>
</ul>
<h2 id="states-and-variations">States and Variations</h2>
<p>The values within the Context Menu take the following states:</p>
<ul>
<li>Focus<br /></li>
<li>Hover<br /></li>
<li>Disabled</li>
</ul>
<h2 id="responsive-guidelines">Responsive Guidelines</h2>
<ul>
<li>Should always fit on the screen and scroll inside if necessary.</li>
</ul>
<h2 id="upgrading-from-3.x">Upgrading from 3.X</h2>
<ul>
<li>Is relatively backwards compatible except inforContextMenu should be replaced with popupmenu in the api call and class name<br /></li>
<li>Remove class divider it is deprecated<br /></li>
<li>Checkbox construct is simplified<br /></li>
<li>Group replaced with heading</li>
</ul>
