{{={{{ }}}=}}

<script type="text/html" id="hierarchyChartTemplate">
  <div class="leaf {{colorClass}}" id="{{id}}">

      {{#Picture}}
        <img src="{{Picture}}" class="image" alt="Image of {{Name}}"/>
      {{/Picture}}
      {{^Picture}}
        <span class="image-placeholder"></span>
      {{/Picture}}

      <div class="detail">
        <p class="heading">{{Name}}</p>
        <p class="subheading">{{Position}}</p>
        <p class="micro">{{EmploymentType}}</p>
      </div>

      <button class="btn-expand {{displayClass}} btn-icon" type="button">
        <svg role="presentation" aria-hidden="true" focusable="false" class="icon">
          <use xlink:href="#icon-caret-up"/>
        </svg>
        <span class="audible">Expand/Collapse</span>
      </button>
    </div>

  </div>
</script>

<figure class="hierarchy" id="hierarchy" style="margin-top: -40px"></figure>

<script>

  $.getJSON('/api/orgstructure', function(data) {

    var legendData = [
      { 'value' : 'FT', 'label' : 'Full Time'     },
      { 'value' : 'PT', 'label' : 'Part Time'     },
      { 'value' : 'C',  'label' : 'Contractor'    },
      { 'value' : 'O',  'label' : 'Open Position' }
    ];

    $('#hierarchy').hierarchy({
      templateId: 'hierarchyChartTemplate',
      legendKey: 'EmploymentType',
      legend: legendData,
      dataset: data
    });

  });


/*var dataset = [{
      data: [{
          name: 'Category A',
          value: 373
      }, {
          name: 'Category B',
          value: 372
      }, {
          name: 'Category C',
          value: 236.35
      }],
      name: ''  //Can be optionally passed in makes less sense with one: Group 1
    }];
*/
  //$('#bar-example').chart({type: 'bar', dataset: dataset});
</script>
