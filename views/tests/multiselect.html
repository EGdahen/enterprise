<div class="row">
  <div class="twelve columns">
    <h1>Multiselect</h1>
    <span class="label">Tags</span>
    <hr>

    <div class="field">
      <label for="states-multi" class="label">States (Max 10)</label>
      <select multiple id="states-multi" data-source="/api/states?term=" name="states-multi" data-maxselected="10" class="multiselect"></select>
    </div>

    <div class="field">
      <label for="towns-multi-optgroup" class="label">Towns (Max 5)</label>
      <select multiple data-maxselected="5" data-source="/api/towns" data-init="false" id="towns-multi-optgroup" name="towns-multi-optgroup" class="multiselect">
      </select>
    </div>

    <div class="field">
      <label for="fruits-multi" class="label">Fruits (disabled)</label><br />
      <select multiple disabled id="fruits-multi" name="fruits-multi" data-maxselected="2" class="multiselect">
        <option>Apple</option>
        <option>Banana</option>
        <option>Grapefruit</option>
        <option>Kiwi</option>
        <option>Lemon</option>
        <option>Lime</option>
        <option selected>Orange</option>
        <option>Strawberry</option>
      </select>
    </div>
  </div>
</div>

<script>
  $(function () {
    $('#states-multi-ajax').multiselect({source: function (term, response) {
      //make an ajax call
      $.getJSON('/api/states?term='+term, function(data) {
        //Structure the data with val, label syntax is done on the server
        response(data);
      });
    }}).on('change', function () {
      console.log('Changed to :' + $(this).val());
    });

    //make an id for Test
    $('span[data-val="option1"]').attr('id','option1-sel');

    //Toggle disabled
    $('#disable-button').on('click', function () {
      var multi = $('#states-multi-ajax'), btn = $(this);
      if (multi.is(':disabled')) {
        multi.enable();
        btn.text('Disable');
      } else {
        multi.disable();
        btn.text('Enable');
      }
    });
  });
</script>
