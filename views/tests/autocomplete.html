<div class="row">
  <div class="twelve columns">
    <h1>Autocomplete</h1>
    <span class="label">for search and textbox</span>
    <hr>

    <div class="field">
      <label for="auto-default">#auto-default (autocomplete with stock settings)</label>
      <input data-autocomplete="/api/states?term=" id="auto-default" class="autocomplete" placeholder="Type to Search" type="text" />
    </div>

    <div class="field">
      <label for="auto-template">#auto-template (uses an alternate source and external template)</label>
      <input data-autocomplete="source" class="autocomplete" data-tmpl="#autocomplete-with-pic" id="auto-template" placeholder="Type to Search" type="text">
    </div>

  </div>
</div>

<!--This is only needed because it renders first on the server-->
{{={{{ }}}=}}
<script id="autocomplete-with-pic" type="text/html">
  <li id="{{listItemId}}" {{#hasValue}}data-value="{{value}}" {{/hasValue}}role="listitem">
    <a href="#" tabindex="-1">
      <svg class="icon">
        <use xlink:href="#icon-logo" />
      </svg>
      <span>
        {{& label}}
      </span>
    </a>
  </li>
</script>

<script>
  $(function () {
    $('#auto-template').autocomplete({
      source: '/api/states?term='
    }).on('selected', function (e, anchor) {
      console.log('Changed to: ' + $(anchor).parent().attr('data-value'));
    });
  });
</script>
