
<div class="row">
  <div class="twelve columns">

    <div id="datagrid">
    </div>

  </div>
</div>

<script>
  var gridApi = null;

  $('body').one('initialized', function () {

      var grid,
        data = [],
        columns = [];

      //Define Columns for the Grid.
      columns.push({ id: 'manufacturerName', name: 'Manufacturer Name', field: 'manufacturerName', filterType: 'text'});
      columns.push({ id: 'inventoryValue', name: 'Inventory', field: 'inventoryValue', width: 120});
      columns.push({ id: 'customerSatisfaction', name: 'Customer Satisfaction w/o Color and Text', field: 'customerSatisfaction', formatter: Formatters.TargetedAchievement, showPercentText: true});
      columns.push({ id: 'customerSatisfaction2', name: 'Customer Satisfaction with Color', field: 'customerSatisfaction', formatter: Formatters.TargetedAchievement, ranges: [{'min': 0, 'max': 40, 'classes': 'error'}, {'value': 79, 'classes': 'good'}]});
      columns.push({ id: 'customerSatisfaction3', name: 'Customer Satisfaction to Target', field: 'customerSatisfaction', formatter: Formatters.TargetedAchievement, target: 80});

      //Get some data via ajax
      var url = '{{basepath}}api/bikes';

      $.getJSON(url, function(res) {

        $('#datagrid').datagrid({
          columns: columns,
          dataset: res,
          paging: true,
          pagesize: 10,
          toolbar: {title: 'Bike Dealers', results: true, personalize: true, actions: true, rowHeight: true}
        });
      });

      return;

      //Init and get the api for the grid
      $('#datagrid').datagrid({
        columns: columns,
        dataset: data,
        editable: true,
        filterable: true,
        toolbar: {title: 'Compressors', results: true, actions: true, rowHeight: true}
      })
      .on('cellchange', function (e, args) {
        console.log(args.value);
      });

  });

</script>
