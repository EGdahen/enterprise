
<div class="row">
  <div class="twelve columns">
    <div class="field">
      <input type="text" id="someFilter" class="md-filter" />
    </div>
  </div>
</div>
<div class="row">
  <div class="twelve columns">
    <div id="datagrid">
    </div>
  </div>
</div>
<script>
  $('body').one('initialized', function () {
    var gridApi,
            columns = [],
            data = [];
    //Define Columns for the Grid.
    columns.push({ id: 'id', name: 'Id', field: 'id', formatter: Formatters.Readonly});
    columns.push({ id: 'productId', name: 'Product Id', field: 'productId', width: 140, formatter: Formatters.Readonly});
    columns.push({ id: 'productName', name: 'Product Name', sortable: false, field: 'productName', width: 150, formatter: Formatters.Hyperlink});
    columns.push({ id: 'activity', hidden: true, name: 'Activity', field: 'activity', width: 125});
    columns.push({ id: 'quantity', name: 'Quantity', field: 'quantity', width: 125});
    columns.push({ id: 'price', name: 'Price', field: 'price', width: 125, formatter: Formatters.Decimal});
    columns.push({ id: 'orderDate', name: 'Order Date', field: 'orderDate', formatter: Formatters.Date, dateFormat: 'M/d/yyyy'});


    var responseData = {"total":1000,"data":[{"id":0,"productId":214220,"productName":"Compressor 1","activity":"Assemble Paint","quantity":1,"price":210.99,"orderDate":"2015-01-01T05:00:00.000Z","action":"Action"},{"id":1,"productId":214221,"productName":"Compressor 2","activity":"Assemble Paint","quantity":1.5,"price":209.99,"status":"Late","orderDate":"2015-01-02T05:00:00.000Z","action":"Action"},{"id":2,"productId":214222,"productName":"Compressor 3","activity":"Assemble Paint","quantity":2,"price":208.99,"status":"Active","orderDate":"2015-01-03T05:00:00.000Z","action":"Action"},{"id":3,"productId":214223,"productName":"Compressor 4","activity":"Assemble Paint","quantity":2.5,"price":207.99,"status":"Inactive","orderDate":"2015-01-04T05:00:00.000Z","action":"Action"},{"id":4,"productId":214224,"productName":"Compressor 5","activity":"Assemble Paint","quantity":3,"price":206.99,"status":"Inactive","orderDate":"2015-01-05T05:00:00.000Z","action":"Action"},{"id":5,"productId":214225,"productName":"Compressor 6","activity":"Assemble Paint","quantity":3.5,"price":205.99,"status":"Inactive","orderDate":"2015-01-06T05:00:00.000Z","action":"Action"},{"id":6,"productId":214226,"productName":"Compressor 7","activity":"Assemble Paint","quantity":4,"price":204.99,"status":"On Hold","orderDate":"2015-01-07T05:00:00.000Z","action":"Action"},{"id":7,"productId":214227,"productName":"Compressor 8","activity":"Assemble Paint","quantity":4.5,"price":203.99,"status":"On Hold","orderDate":"2015-01-08T05:00:00.000Z","action":"Action"},{"id":8,"productId":214228,"productName":"Compressor 9","activity":"Assemble Paint","quantity":5,"price":202.99,"status":"On Hold","orderDate":"2015-01-09T05:00:00.000Z","action":"Action"},{"id":9,"productId":214229,"productName":"Compressor 10","activity":"Assemble Paint","quantity":5.5,"price":201.99,"status":"On Hold","orderDate":"2015-01-10T05:00:00.000Z","action":"Action"}]};


    //Init and get the api for the grid
    gridApi = $('#datagrid').datagrid({
      columns: columns,
      selectable: 'multiple',
      paging: true,
      pagesize: 10,
      source: function(req, response) {
          //prepare ajax request data
          var dataForAjaxRequest = $.extend({
              runId: 1
          }, filters());

         console.log('source ajax call')
         // on ajax success we do this  {
         req.total = responseData.total;
         response(responseData.data, req);

      },
      toolbar: {title: 'Data Grid Header Title', results: true, dateFilter: false ,keywordFilter: true, advancedFilter: true, actions: true, views: true, rowHeight: true, collapsibleFilter: true}
    });

    function filters() {
       var params = {};
       params['someFilter'] = $('#someFilter').val();
       return params;
    }

    $('.md-filter').on(
      "change",
      function () {
        gridApi.data('datagrid').triggerSource('filter');
      });

  });
</script>
