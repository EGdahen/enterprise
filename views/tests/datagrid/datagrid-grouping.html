<div class="row">
  <div class="twelve columns">
    <br />
    <h3>Grid Example: Grouping</h3>
    <p>
    Shows using the Datagrid Group By API object.
    </p>
  </div>
</div>

<script>
  $('body').one('initialized', function () {

      var grid,
        columns = [],
        data = [];


      //Define Columns for the Grid.
      columns.push({ id: 'incidentId', name: 'Incident Id', field: 'incidentId'});
      columns.push({ id: 'priority', name: 'Priority', field: 'priority'});
      columns.push({ id: 'location', name: 'Location', field: 'location', formatter: Formatters.Hyperlink});
      columns.push({ id: 'nature', name: 'Nature', field: 'nature'});
      columns.push({ id: 'time', name: 'Time', field: 'time'});
      columns.push({ id: 'units', name: 'Vehicles on Scene', field: 'units'});

      //Get some data via ajax
      var url = '/api/accounts';

      $.getJSON(url, function(res) {

        $('#datagrid').datagrid({
          columns: columns,
          dataset: res,
          groupable: {
            fields: ['incidentId'],
            supressRow: true, //Do not show the grouping row
            aggregator: 'list', //sum, averge, max ect
            aggregatorOptions: ['unitName1']
          },
          selectable: 'single',
          cellNavigation: true,
          toolbar: {title: 'Data Grid Header Title', results: true, personalize: true, actions: true, rowHeight: true, keywordFilter: true,  collapsibleFilter: true}
        });
      });
 });

</script>
